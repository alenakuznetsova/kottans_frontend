<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Memory pair game</title>
    <link rel="stylesheet" type="text/css" href="style.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-md-10">
                <h1 class="title text-center">Memory pair game</h1>
            </div>
        </div>
        <div class="row justify-content-md-center mx-auto">
            <center>
                <div class="col-md-12">                    
                    <ul id="matrix" class="flip-container"></ul>                    
                </div>
            </center>
            <div id="img"></div>
        </div>
    </div>
    <script>
        var arr = [];

        function Image (url){
            this.id = '' + (Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000);            
            this.open = false;
            this.url = url;           
        }

        function addObjInArr(obj) {
            var i = new Image(obj);
            arr.push(i);
            arr.push(i);
        }

        addObjInArr('images/batman.jpg');
        addObjInArr('images/captain.jpg');
        addObjInArr('images/halk.jpg');
        addObjInArr('images/iron.jpg');
        addObjInArr('images/superman.jpg');
        addObjInArr('images/punisher.jpg');

        console.log(arr);

        function printImg() {
            var arrSh = arr.shuffle();
            var list = document.getElementById('matrix');
            for(var i = 0; i < arrSh.length; i++) {
                for(var j = 0; j < 4; j++) {
                    var newLi = document.createElement('li');
                    newLi.className = 'flipper';
                    list.appendChild(newLi);
                    var newImg = document.createElement('img');
                    newLi.appendChild(newImg);
                    newImg.style.background = 'url'+ '(' + arrSh[j].url + ')' + 'center no-repeat';
                    newImg.className = 'img-list front';
                    newImg.id = arrSh[j].id; 
                    newImg.onclick = function(){
                        if (this.className == 'img-list front') {                
                            this.removeAttribute("style");
                            this.className = 'img-list back';
                        } else this.className = 'img-list front';
                    }; 
                    
                    // var newImgBack = document.createElement('img');
                    // newLi.appendChild(newImgBack);
                    // newImgBack.className = 'back';
                } 
                arr.splice(0,4);                
                var newBr = document.createElement('br');
                list.appendChild(newBr);
            }            
        }

        Array.prototype.shuffle = function( b ){
            var i = this.length, j, t;
            while( i ) 
            {
            j = Math.floor( ( i-- ) * Math.random() );
            t = b && typeof this[i].shuffle!=='undefined' ? this[i].shuffle() : this[i];
            this[i] = this[j];
            this[j] = t;
            }
            return this;
        };

        printImg();
    </script>
</body>
</html>