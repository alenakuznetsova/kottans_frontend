<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Memory pair game</title>
    <link rel="stylesheet" type="text/css" href="style.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-md-10">
                <h1 class="title text-center">Memory pair game</h1>
            </div>
        </div>
        <div class="row justify-content-md-center mx-auto">
            <center>
                <div class="col-md-12">                    
                    <ul id="matrix" class="flip-container"></ul>                    
                </div>
            </center>
        </div>
    </div>
    <script>
        var arr = [];
        var compareArr = [];

        function Image (url, name){
            // this.id = '' + (Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000);            
            // this.open = false;
            this.name = name;
            this.url = url; 
            var that = this;
            this.change = function(){
                var f = that.url;
                if (this.className == 'img-list front') { 
                    this.className = 'img-list';
                    this.style.background = 'red';
                    this.open = true;
                } else {
                    this.className = 'img-list front';
                    this.style.background = 'url'+ '(' + f + ')' + 'center no-repeat';
                    this.open = false;
                } 
            }          
        }

        function addObjInArr(obj) {
            var i = new Image(obj);
            arr.push(i);
            arr.push(i);
        }

        addObjInArr('images/batman.jpg', 'batman');
        addObjInArr('images/captain.jpg', 'captain');
        addObjInArr('images/halk.jpg', 'halk');
        addObjInArr('images/iron.jpg', 'iron');
        addObjInArr('images/superman.jpg', 'superman');
        addObjInArr('images/punisher.jpg', 'punisher');

        Array.prototype.shuffle = function( b ){
            var i = this.length, j, t;
            while( i ) 
            {
            j = Math.floor( ( i-- ) * Math.random() );
            t = b && typeof this[i].shuffle!=='undefined' ? this[i].shuffle() : this[i];
            this[i] = this[j];
            this[j] = t;
            }
            return this;
        };

        function printImg() {               
            arr.shuffle();
            var list = document.getElementById('matrix');
            for(var i = 0; i < arr.length; i++) {
                for(var j = 0; j < 4; j++) {
                    var newLi = document.createElement('li');
                    newLi.className = 'flipper';
                    list.appendChild(newLi);
                    var newImg = document.createElement('img');
                    newLi.appendChild(newImg);
                    newImg.style.background = 'url'+ '(' + arr[j].url + ')' + 'center no-repeat';
                    newImg.className = 'img-list front';
                    newImg.id = arr[j].id;
                    newImg.onclick =  arr[j].change;
                } 
                arr.splice(0,4);                
                var newBr = document.createElement('br');
                list.appendChild(newBr);
            }           
        }    



        console.log(compareArr);   

        function compareImg() {
            if(this.open === false) {
                alert('open');
            }
        }

        printImg();
        compareImg();
    </script>
</body>
</html>