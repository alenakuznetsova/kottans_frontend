<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Memory pair game</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-md-10">
                <h1 class="title text-center">Memory pair game</h1>
            </div>
        </div>
        <div class="row justify-content-md-center mx-auto">
            <center>
                <div class="col-md-12">    
                    <ul class="desk">
                    </ul>
                </div>
            </center>
        </div>
    </div>

    <script>
        var arr = [];
        var compareArr = [];

        function Image (url, name){
            this.name = name;
            this.url = url; 
            this.open = function(){                    
                this.style.transform = 'rotateY(180deg)'; 
            }          
        }             

        addObjInArr('images/batman.jpg', 'batman');
        addObjInArr('images/captain.jpg', 'captain');
        addObjInArr('images/halk.jpg', 'halk');
        addObjInArr('images/iron.jpg', 'iron');
        addObjInArr('images/superman.jpg', 'superman');
        addObjInArr('images/punisher.jpg', 'punisher');
       
        function shuffle(o) {
            for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
            return o;
        };

        function addObjInArr(obj) {
            var i = new Image(obj);
            arr.push(i);
            arr.push(i);
        }     

        function printImg() {               
            shuffle(arr);
            var desk = document.getElementsByClassName('desk')[0];
            for(var i = 0; i < arr.length; i++) {
                for(var j = 0; j < 4; j++) {
                    var container = document.createElement('li');
                    container.className = 'flip-container';
                    desk.appendChild(container);

                    var flipper = document.createElement('div');
                    flipper.className = 'flipper';
                    flipper.onclick = arr[i].open; 
                    
                    container.appendChild(flipper);

                    var front = document.createElement('div');
                    front.className = 'front';
                    flipper.appendChild(front);		
                    
                    var back = document.createElement('div');
                    back.className = 'back'; 
                    back.style.background = 'url'+ '(' + arr[j].url + ')' + 'center no-repeat';
                    flipper.appendChild(back);                   
                } 
                arr.splice(0,4);                
                var newBr = document.createElement('br');
                desk.appendChild(newBr);
                
            }           
        }    

        // function compareImg() {
        //     if(this.open === false) {
        //         alert('open');
        //     }
        // }

        printImg();
    </script>
</body>
</html>